#!/bin/bash

echoh() {
    echo -e "\033[01;38;5;2m$1\033[39m"
}

if [ ! -d ~/.oh-my-zsh ]; then
    # https://github.com/robbyrussell/oh-my-zsh
    echoh "==> ZSH: Installing oh-my-zsh"
    curl -L https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh | sh
    
    # Set new shell
    echoh "==> ZSH: Changing shell"
    chsh -s /bin/zsh
fi

# Create links
echoh "==> ZSH: Setting up symlinks"

src=$(cd "$(dirname "$0")/.."; pwd)
[ -d ~/.zsh ] && rm ~/.zsh
ln -sf $src/zsh ~/.zsh
ln -sf $src/zshrc ~/.zshrc
ln -sf $src/zshenv ~/.zshenv
ln -sf $src/bashrc ~/.bashrc

echoh "==> ZSH: DONE!"
